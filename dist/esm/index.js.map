{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"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","sourcesContent":["import { registerPlugin } from '@capacitor/core';\n\nimport type { TruvideoSdkVideoPlugin } from './definitions';\n\nexport enum VideoStatus {\n  processing = 'processing',\n  completed = 'complete',\n  idle = 'idle',\n  cancel = 'cancelled',\n  error = 'error',\n}\n\n// Define a class for the VideoTrack\nexport interface VideoTrack {\n  index : string;\n  width : string;\n  height : string;\n  rotatedWidth : string;\n  rotatedHeight : string;\n  codec : string;\n  codecTag : string;\n  pixelFormat : string;\n  bitRate : string;\n  frameRate : string;\n  rotation : string;\n  durationMillis : string;\n}\n\n// Define a class for the AudioTrack\nexport interface AudioTrack {\n  index: string;\n  bitRate: string;\n  sampleRate: string;\n  channels: string;\n  codec: string;\n  codecTag: string;\n  durationMillis: string;\n  channelLayout: string;\n  sampleFormat: string;\n}\n\n// Define a class for the main response data\nexport interface MediaInfo {\n  path : string;\n  size : number;\n  durationMillis : number;\n  format : string;\n  videoTracks : VideoTrack[];\n  audioTracks : AudioTrack[];\n}\n \n\nconst TruvideoSdkVideo = registerPlugin<TruvideoSdkVideoPlugin>('TruvideoSdkVideo');\n\nexport async function getVideoInfo(videoPath: string): Promise<MediaInfo> {\n    let response = await TruvideoSdkVideo.getVideoInfo({ videoPath });\n    return parsePluginResponse<MediaInfo>(response);\n}\nexport async function compareVideos(videoPath: string): Promise<Boolean> {\n    let response = await TruvideoSdkVideo.compareVideos({ videoUris: videoPath });\n    return response.result;\n}\n\nexport function cleanNoise(\n    videoUri: string,\n    resultPath: string\n): Promise<{ result: object }> {\n    return TruvideoSdkVideo.cleanNoise({ videoPath: videoUri, resultPath: resultPath });\n}\n\nexport function editVideo(\n    videoUri: string,\n    resultPath: string\n): Promise<{ result: object }> {\n    return TruvideoSdkVideo.editVideo({ videoPath: videoUri, resultPath: resultPath });\n}\nexport function getResultPath(videoPath: string): Promise<{ result: string }> {\n    return TruvideoSdkVideo.getResultPath({ path: videoPath });\n}\n\nexport async function getAllRequests(status: VideoStatus): Promise<BuilderResponse[]> {\n    let response = await TruvideoSdkVideo.getAllRequests({ status : status });\n    return parsePluginResponse<BuilderResponse[]>(response);\n    //return parsePluginResponse<BuilderResponse[]>(TruvideoSdkVideo.getAllRequests({ status : status }));\n}\n\nexport async function getRequestById(id: string): Promise<BuilderResponse> {\n    let response = await TruvideoSdkVideo.getRequestById({ id : id });\n    return parsePluginResponse<BuilderResponse>(response);\n    //return parsePluginResponse<BuilderResponse>(TruvideoSdkVideo.getRequestById({ id : id }));\n}\n\nexport function generateThumbnail(\n    videoPath: string,\n    resultPath: string,\n    position: number,\n    width: number,\n    height: number,\n    precise: boolean\n): Promise<{ result: object }> {\n    return TruvideoSdkVideo.generateThumbnail({\n        videoPath: videoPath,\n        resultPath: resultPath,\n        position: position,\n        width: width,\n        height: height,\n        precise: precise\n    });\n}\n\nexport enum FrameRate {\n    twentyFourFps = 'twentyFourFps',\n    twentyFiveFps = 'twentyFiveFps',\n    thirtyFps = 'thirtyFps',\n    fiftyFps = 'fiftyFps',\n    sixtyFps = 'sixtyFps',\n}\nexport enum BuilderType {\n    merge = 'merge',    \n    concat = 'concat',\n    encode = 'encode',\n}\n\nexport interface BuilderResponse {\n    id: string;\n    createdAt: string;\n    status: string;\n    type: BuilderType;\n    updatedAt: string;\n}\n\nexport class MergeBuilder {\n    private _filePath: string;\n    private resultPath: string;\n    private height: string = '';\n    private width: string = '';\n    private frameRate: string = '';\n    private mergeData: BuilderResponse | undefined;\n\n    constructor(filePaths: string, resultPath: string) {\n        if (!filePaths) {\n            throw new Error('filePath is required for MediaBuilder.');\n        }\n        if (!resultPath) {\n            throw new Error('resultPath is required for MediaBuilder.');\n        }\n        this._filePath = filePaths;\n        this.resultPath = resultPath;\n    }\n\n    setHeight(height: number): MergeBuilder {\n        this.height = '' + height;\n        return this;\n    }\n\n    setWidth(width: number): MergeBuilder {\n        this.width = '' + width;\n        return this;\n    }\n\n    setFrameRate(frameRate: FrameRate): MergeBuilder {\n        if (frameRate == FrameRate.fiftyFps) {\n            this.frameRate = 'fiftyFps';\n        } else if (frameRate == FrameRate.sixtyFps) {\n            this.frameRate = 'sixtyFps';\n        } else if (frameRate == FrameRate.twentyFourFps) {\n            this.frameRate = 'twentyFourFps';\n        } else if (frameRate == FrameRate.twentyFiveFps) {\n            this.frameRate = 'twentyFiveFps';\n        } else if (frameRate == FrameRate.thirtyFps) {\n            this.frameRate = 'thirtyFps';\n        } else {\n            this.frameRate = 'fiftyFps';\n        }\n        return this;\n    }\n\n    async build(): Promise<MergeBuilder> {\n        const config = {\n            height: this.height,\n            width: this.width,\n            framesRate: this.frameRate,\n        };\n\n        const response = await TruvideoSdkVideo.mergeVideos({\n            videoUris: this._filePath,\n            resultPath: this.resultPath,\n            config: JSON.stringify(config),\n        });\n        this.mergeData = parsePluginResponse<BuilderResponse>(response);\n        return this;\n    }\n\n    async process(): Promise<BuilderResponse> {\n        if (!this.mergeData?.id) {\n            console.error(\"❌ [Process] Missing mergeData.id. Ensure build() was called successfully.\");\n            throw new Error('⚠️ Call build() and ensure it succeeds before calling process().');\n        }\n\n        const response = await TruvideoSdkVideo.processVideo({\n            path: this.mergeData.id\n        });\n\n        this.mergeData = parsePluginResponse<BuilderResponse>(response);\n        return this.mergeData;\n    }\n\n    async cancel(): Promise<BuilderResponse> {\n        if (!this.mergeData?.id) {\n            throw new Error(\n                'Call build() and ensure it succeeds before calling cancel().'\n            );\n        }\n        var response = await TruvideoSdkVideo.cancelVideo(\n            { path: this.mergeData.id }\n        );\n\n        this.mergeData = parsePluginResponse<BuilderResponse>(response);\n        return this.mergeData;\n    }\n}\n\nexport class ConcatBuilder {\n    private _filePath: string;\n    private resultPath: string;\n    private concatData: BuilderResponse | undefined;\n\n    constructor(filePaths: string, resultPath: string) {\n        if (!filePaths) {\n            throw new Error('filePath is required for ConcatBuilder.');\n        }\n        if (!resultPath) {\n            throw new Error('resultPath is required for ConcatBuilder.');\n        }\n        this._filePath = filePaths;\n        this.resultPath = resultPath;\n    }\n\n    async build(): Promise<ConcatBuilder> {\n        const response = await TruvideoSdkVideo.concatVideos({\n            videoUris: this._filePath,\n            resultPath: this.resultPath\n        });\n        this.concatData = parsePluginResponse<BuilderResponse>(response);\n        return this;\n    }\n\n    async process(): Promise<BuilderResponse> {\n        if (!this.concatData?.id) {\n            throw new Error('concatData.id is undefined. Call build() first.');\n        }\n\n        const response = await TruvideoSdkVideo.processVideo({\n            path: this.concatData.id\n        });\n\n        this.concatData = parsePluginResponse<BuilderResponse>(response);\n        return this.concatData;\n    }\n\n    async cancel(): Promise<BuilderResponse> {\n        if (!this.concatData?.id) {\n            throw new Error('concatData.id is undefined. Call build() first.');\n        }\n\n        const response = await TruvideoSdkVideo.cancelVideo({\n            path: this.concatData.id\n        });\n\n        this.concatData = parsePluginResponse<BuilderResponse>(response);\n        return this.concatData;\n    }\n}\n\nexport class EncodeBuilder {\n    private filePath: string;\n    private resultPath: string;\n    private height = '';\n    private width = '';\n    private frameRate = '';\n    private mergeData?: BuilderResponse;\n\n    constructor(filePath: string, resultPath: string) {\n        if (!filePath) throw new Error('filePath is required for EncodeBuilder.');\n        if (!resultPath) throw new Error('resultPath is required for EncodeBuilder.');\n        this.filePath = filePath;\n        this.resultPath = resultPath;\n    }\n\n    setHeight(height: number): EncodeBuilder {\n        this.height = height.toString();\n        return this;\n    }\n\n    setWidth(width: number): EncodeBuilder {\n        this.width = width.toString();\n        return this;\n    }\n\n    setFrameRate(frameRate: FrameRate): EncodeBuilder {\n        // Map enum to valid frame rate string\n        switch (frameRate) {\n            case FrameRate.fiftyFps:\n                this.frameRate = 'fiftyFps';\n                break;\n            case FrameRate.sixtyFps:\n                this.frameRate = 'sixtyFps';\n                break;\n            case FrameRate.twentyFourFps:\n                this.frameRate = 'twentyFourFps';\n                break;\n            case FrameRate.twentyFiveFps:\n                this.frameRate = 'twentyFiveFps';\n                break;\n            case FrameRate.thirtyFps:\n                this.frameRate = 'thirtyFps';\n                break;\n            default:\n                this.frameRate = 'fiftyFps';\n        }\n        return this;\n    }\n\n    // Builds the video using encodeVideo method\n    async build(): Promise<EncodeBuilder> {\n        const config = {\n            height: this.height,\n            width: this.width,\n            framesRate: this.frameRate,\n        };\n\n        const response = await TruvideoSdkVideo.encodeVideo({\n            videoUri: this.filePath,\n            resultPath: this.resultPath,\n            config: JSON.stringify(config)\n        });\n\n        this.mergeData = parsePluginResponse<BuilderResponse>(response);\n        return this;\n    }\n\n    // Process the video after build\n    async process(): Promise<BuilderResponse> {\n        if (!this.mergeData?.id) {\n            throw new Error('Call build() and ensure it succeeds before calling process().');\n        }\n\n        const response = await TruvideoSdkVideo.processVideo({ path: this.mergeData.id });\n        this.mergeData = parsePluginResponse<BuilderResponse>(response);\n        return this.mergeData;\n    }\n\n    // Cancel the video encoding\n    async cancel(): Promise<BuilderResponse> {\n        if (!this.mergeData?.id) {\n            throw new Error('Call build() and ensure it succeeds before calling cancel().');\n        }\n\n        const response = await TruvideoSdkVideo.cancelVideo({ path: this.mergeData.id });\n        this.mergeData = parsePluginResponse<BuilderResponse>(response);\n        return this.mergeData;\n    }\n}\n\n\nfunction parsePluginResponse<T>(response: any): T {\n    if (!response || typeof response !== 'object') {\n        throw new Error(\"Plugin response is not an object\");\n    }\n\n    if (!response.result || typeof response.result !== 'string') {\n        throw new Error(\"Plugin response.result is not a valid string\");\n    }\n\n    try {\n        return JSON.parse(response.result) as T;\n    } catch (e) {\n        throw new Error(\"Failed to parse plugin response.result: \" + e);\n    }\n}\n"]}